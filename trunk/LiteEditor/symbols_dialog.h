#ifndef __symbols_dialog__
#define __symbols_dialog__

/**
@file
Subclass of SymbolsDialogBase, which is generated by wxFormBuilder.
@todo Add your event handlers directly to this file.
*/

#include "symbols_dialog_base.h"
#include "entry.h"
#include "vector"

/** Implementing SymbolsDialogBase */
class SymbolsDialog : public SymbolsDialogBase
{
	long m_line;
	wxString m_file;
	wxString m_project;

public:
	/** Constructor */
	SymbolsDialog( wxWindow* parent );

	/**
	 * Add symbol to the dialog - this should be called before calling the dialog
	 * ShowModal() method
	 * \param tag tag to add
	 * \param sel when set to true, this item will be selected
	 */
	void AddSymbol(const TagEntryPtr &tag, bool sel); 

	/**
	 * A wrapper around the AddSymbol methos that allows
	 * adding a vector of tags
	 * \param tags 
	 * \param sel zero based index to select
	 */
	void AddSymbols(const std::vector<TagEntryPtr> &tags, size_t sel);


	//---------------------------------------------
	// Getters
	//---------------------------------------------
	const wxString &GetFile() const { return m_file; }
	long GetLine() const { return m_line; }
	const wxString &GetProject() const { return m_project; }

private:
	void UpdateFileAndLine(wxListEvent &event);

	//-----------------------------------------------
	// Event handlers
	//-----------------------------------------------
	void OnItemSelected(wxListEvent &event);
	void OnItemActivated(wxListEvent &event);
	void OnButtonCancel(wxCommandEvent &event);
	void OnButtonOK(wxCommandEvent &event);
};

#endif // __symbols_dialog__
